# 自然语言处理:第九十六章 AI智能客服解决方案

**本人项目地址大全：[Victor94-king/NLP__ManVictor: CSDN of ManVictor](https://github.com/Victor94-king/NLP__ManVictor)**

<br />

***写在前面: 笔者更新不易，希望走过路过点个关注和赞，笔芯!!!***

***写在前面: 笔者更新不易，希望走过路过点个关注和赞，笔芯!!!***

***写在前面: 笔者更新不易，希望走过路过点个关注和赞，笔芯!!!***

<br />


# 1、传统客服与智能客服

智能客户服务系统就是在原始客户服务系统中构建一个人工智能处理模块， 以取代原始的人工处理功能，简单来说就是将人工智能处理功能应用到客户服务系统的整体流程中。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvEELHy3t8xokg5BbqmPaNRUTBvickfafhtibRSX46F0WdbhDtfS3wMjsQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

基于BERT模型的智能客服：虽然BERT模型在语义理解方面有一定优势，但由于其更多是“填空题”的模式，对用户Query的理解仍存在不足，回答准确率不足50%，导致很多用户在面对智能客服时会直接输入“转人工”。同时，它主要是基于FAQ进行回复，无法根据用户的情绪变化调整回答方式，无法给到用户情绪价值。

基于大模型深度学习的智能客服：从意识识别到自主行动（问题引导、生成回复、流程控制、闲聊控制、情绪识别），大模型深度学习的智能客服能够全面理解和应对用户的复杂需求。它不仅能够准确理解用户的语义和情感，还能根据用户的上下文信息和历史行为，生成更加个性化和精准的回复。此外，大模型还具备强大的自我学习能力，能够不断优化自身的知识库和服务流程，提高服务质量和效率。

# 2、零售O2O智能客服分析与调研

2.1场景分析：

要进行智能客服的场景分析，首先需明确客服的场景分析框架。我们可从以下视角思考：用户是谁，用户的生命周期是怎样的，用户的消费旅程节点有哪些；业务场景范围涵盖哪些方面，交互的形式有哪些，用户反馈的客体（反馈内容）是什么，客体状态（反馈内容的状态）是什么。基于此，我们至少可以从两大核心视角进行深入思考：一是从用户旅程出发，二是从智能客服管理的角度，明确人工智能应用的重点场景，即并非所有场景能完全适用人工智能，挑选出重点场景方向，才能事倍功半，以下仅为通用性场景假设，具体需根据实际业务具体分析。

假定处于有门店销售的 O2O 场景之下，基于用户旅程视角，第一步需要厘定大致的用户旅程节点，以及各节点衍生出的触点与对应的用户行为。顺着这些节点脉络，便能明确客服在其中扮演的角色以及承担的具体职责。部分节点，诸如进店、与店员互动环节，客服暂且无需介入；另有一些消费者旅程节点，客服参与程度深浅不一。举例来说，在售前咨询、自动外呼营销阶段，客服发挥着关键效能，参与力度较大；而在支付交易以及物流环节，客服主要活跃于事后的售后交易阶段，聚焦交易问题、物流信息查询等场景，与客户展开互动交流。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTaHxDBMPJJv3RoS7c45moTlEvnQ9GOmicEn2Y6pBC1mcwhTbR7m0xEBerbAtXoibRrGDicwhyBSQzRmg/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

总体而言，基于消费者旅程，可大致划分为售前、售中与售后三大阶段：

售前阶段涵盖了解品牌与产品、产生需求、搜索信息等环节；售中囊括定位门店、进店、产品体验、产品选购、销售互动、购买产品、支付产品、物流配送、交货等流程；售后涉及产品使用、产品分享、产品售后、再次购买等过程。关于各阶段能够运用智能客服的场景及与之对应的量化标准，详情如下表所示：

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/jhT7lJzclTaHxDBMPJJv3RoS7c45moTl5Z8DpTHtu9ILewGybE4oym4oDjx4lQAm2EjWqIx1TUz10QMfvPGLcQ/640?wx_fmt=jpeg&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

前文已详尽阐述基于用户旅程智能客服的参与场景，接下来从智能客服管理视角深入剖析智能客服场景，具体如下：

1. 业务场景维度：

o 营销场景：基于用户的历史行为、偏好数据以及实时浏览信息，精准推送个性化的营销信息，如新产品上市通知、限时优惠活动、会员专属福利等，激发用户的购买冲动，助力企业拓展市场份额。

o 服务场景：当用户遇到产品使用问题、售后维修需求、订单查询疑惑等情况时，提供专业、精准的解决方案，全方位保障用户的满意度，维护企业的良好形象。

2. 交互场景维度：

o 外呼场景：涵盖客服主动发起的营销活动、工单回访等环节。借助云呼叫中心的外呼机器人，依据预设规则筛选目标客户，主动拨打电话进行营销推广或回访。例如，针对新注册用户推送新手礼包引导消费，对近期购买产品的用户询问使用体验并推荐配套产品。同时，结合短信和私域回访，通过短信吸引用户进入私域平台（如企业微信、小程序等），在私域环境中与用户深度互动，提升用户参与度与转化率。

o 客户主动问询场景：当用户通过 400 电话、在线客服等统一渠道主动发起咨询、投诉、建议或表扬等行为时，智能客服借助智能语音 / 文字转换技术，将用户诉求精准传递至统一智能客服工作平台。在此平台上，智能客服迅速识别问题类型和意图，将咨询或投诉精准分配给相应人员或流程，并生成工单，确保用户问题得到及时、有效的处理。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTaHxDBMPJJv3RoS7c45moTlbG04xH37jiaRjdJkjn0ERN8teFTLBuWT6ibX4CXRkeyW1DribBL1XwApA/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

3. 客体状态维度（反馈内容的状态）：

o 有问题且已经发生：用户明确意识到自身问题并主动反馈，如产品故障、订单延迟等。智能客服需迅速响应，安抚情绪，了解详情，提供解决方案，并持续跟进直至问题彻底解决，避免用户不满升级。

o 有问题未反馈：用户虽察觉到问题但尚未表达，智能客服系统可通过数据分析和用户行为监测，如发现用户频繁浏览某产品使用说明，推测其可能遇到困难，主动出击，通过短信、弹窗等询问是否需要帮助，提前化解问题，提升用户体验。

o 无问题单纯访问：用户仅出于好奇或随意浏览，智能客服可发挥引导作用，通过友好问候和个性化推荐，吸引用户进一步了解产品和服务，将无问题访问转化为潜在业务机会。

o 问题已形成工单：用户问题经初步处理转化为工单，智能客服工作平台需高效管理工单，确保及时流转至相关部门，设置合理处理时限和提醒机制，实时更新状态，方便用户查询，增强信任与满意度。

o 问题未形成工单：对于简单即时可解的问题，虽不需形成工单，但智能客服应做好记录统计，分析常见问题类型和趋势，为优化产品、服务及知识库提供依据，提升整体服务质量。

4. 客体类型维度（反馈内容的类型）：

### o. 咨询

用户咨询产品、服务、政策相关问题时，智能客服依靠知识库和语义理解能力解答。如产品咨询解答功能参数等，服务咨询告知售后流程等，政策咨询解读相关规范，助力用户决策。

### o. 投诉

面对用户投诉，智能客服耐心倾听、安抚情绪。产品质量投诉，问清故障后安排退换；服务态度投诉，了解情况后道歉并处理。同时记录分析，避免问题再发生。

### o. 建议

用户提出产品改进、服务优化等建议，智能客服记录并反馈给相关部门，助力企业依此优化升级。

### o. 评价

用户评价涵盖产品使用和服务体验，分正面、负面评价。正面评价表示感谢，负面评价深入了解、记录反馈，推动改进。

2.2业务流程：

前文基于场景的分析，相当于从宏观放大镜的视角分析，而业务流程分析，则直接聚焦在客服业务，从受理前、受理中、受理后对客服业务流程进行梳理：

 受理请求：多渠道第一时间接待用户，响应咨询、投诉或反馈.

 确认问题：有效沟通，耐心倾听，引导用户提供细节，明确问题.

 分析需求：结合情绪、历史记录和业务背景，剖析真实需求.

 分类需求：将需求归类为咨询、投诉、表扬或意见，快速匹配资源.

 搜集信息：迅速搜集产品资料、政策规定、历史案例等依据.

 制定方案：综合考虑需求、信息和资源，制定可行解决方案.

 解答疑问：用易懂语言清晰解释方案，复杂问题分步骤或图文讲解.

 记录过程：详细记录问题、需求、方案和沟通关键信息，形成档案.

 跟踪效果：问题解决后，关注用户反馈，回访确认服务效果，及时调整.

 总结反馈：定期总结案例经验，提炼建议，反馈相关部门，助力改进.

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTaHxDBMPJJv3RoS7c45moTlnvFl4Ud2DzYaLHSQFVVsRoZOarzwQlwSzmO73TQjwYQOYIxuRlS6IQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

2.3需求分析：

基于前文的场景分析和客服业务流程分析，即从宏观角度，与直接聚焦在客服业务，可以充分分析人工智能对客服业务的需求支撑，下图蓝色的标记为主要的人工智能设计的范围，根据实际业务需求进行优化，下图仅为示例。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWv3QMdWchn4tQab4QY5bVTB5jS7aPacoJ6LYEF0AKxgqQ4AicGJcDT0ZA/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvfDElE9jApfnfRHHX10PAqP1iauUBbn7yjAeh5wI5hDDuMI3EuYc9Mgw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvicKsRaMlX1NGjnwlcRIahJtcibtVdontSgriafEantIBbGicibUc1JdX1sg/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTaHxDBMPJJv3RoS7c45moTlEW284MkyibTh8cLicnxLWmZmaDejxNjmq5GiaicJOV9VSDvUryWIIo7mtQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

最终实现，其实可以归纳为多（知识库覆盖多，识别客户意图更准）、快（流程顺畅、回复效率高）、好（识别客户情绪，满足客户需求）、准（回答专业度，准确性）

2.4技术流程：

1、智能客服服务流程

感知阶段：智能客服通过文字输入、语音识别、图像识别等多种方式，精准捕捉用户的咨询内容和行为信息，建立起对用户需求的全面感知.

认知阶段：利用自然语言处理技术，对用户输入的信息进行意图识别、场景分析和语境分析，深入理解用户的真实意图和需求背景，为后续的知识检索和答案生成奠定基础。

知识检索阶段：在庞大的知识库中，依据用户的意图和场景，快速检索出相关的知识点和解决方案，知识库涵盖产品信息、业务流程、常见问题等多个维度，确保答案的准确性和专业性。

答案生成阶段：结合检索到的知识和用户的具体情况，运用自然语言生成技术，生成清晰、易懂、个性化的答案，同时进行语音转写，为用户提供多模态的交互体验。

行动阶段：基于生成的答案和决策，智能客服执行相应的任务自动化操作，如自动发送回复、触发后续流程等，实现服务的闭环管理，提高服务效率和质量。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvRseVH6sC4oh9hrXqnibIFoH6OuptrBsrAe0pLtgehCMnH2jAHoMps8g/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

2、智能客服运营流程

模型训练：rag、提示词工程和微调是模型训练迭代的主流方式，根据训练时间、成本和场景选择，通俗的来说，rag能快速在大量的行业知识和特定场景信息里去查找相关内容 ，提示词是让智能客服更好的理解“需求”，把话说的更能让“机器人”理解，微调以预训练大模型为基础，用特定领域或场景数据再训练，让模型更贴合特定场景。像电商平台用自身数据微调，使模型回答更精准。虽需一定训练时间和计算资源，成本较高，但效果好 。

任务自动化与闭环反馈：实现任务的自动化流转和闭环管理，当机器人无法回复、顾客要求转人工或遇到特定问题时，及时将任务转接给人工客服，并进行数据分析和复盘，不断优化运营流程和服务质量。

用户满意度调查与客服质检：定期开展用户满意度调查，收集用户对智能客服服务的反馈和评价，同时对客服服务进行质检，评估服务质量，及时发现并改进问题，提升整体服务水平。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTaHxDBMPJJv3RoS7c45moTlo0BEEuSgPVGn3nWjIUs5G95lW2Xrhv1oibUFB7JH8DRiaibdgSKjPib0Kg/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

2.5产品定位：一款基于大规模深度学习的智能客服平台，对客户，实现个性化服务，助力企业降本增效，提升客户满意度。对客服管理，实现内部管理的高效协同与提质增效。

2.6目标与衡量标准：

1、成本效益指标（示例，根据实际情况调整）：

增益类指标：人力运营成本、平台赔付成本、消费者满意度、用户增长率、用户流失率、用户留存率、营销推广触达率、获客成本、客户问题处理成本、客服培训成本、客户终身价值提升率

约束类指标：消费者投诉率、消费者问题一次性解决率、消费者问题解决时长、客服响应时长

2、运营类指标（示例，根据实际情况调整）

运营类指标：坐席签入/签出统计、天/周/月接通数、接通趋势、平均响应时长、外呼接通数、外呼接通率、线索转化率、关单率、问题解决率、坐席利用率、客户重复咨询率、跨部门业务对接响应效率

衡量ai智能客服的运营类指标：点击率、接通率、人工转接率、识别准确率（订单问题、问题识别、问题推荐）、问题解决率、自主问题解决率、关单率、并发处理能力、知识库覆盖率、智能客服闲置时长占比、智能客服话术匹配准确率

# 3、ai智能客服行业的主要厂商和产品

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/jhT7lJzclTaHxDBMPJJv3RoS7c45moTl504PALzKePzcfUO3w3cnoRPXA3Q6bJ87RFZFlfgianwNARvdaaWiaibIA/640?wx_fmt=jpeg&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

# 4、ai智能客服系统架构

4.1业务架构：

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvtjFrdqBXoufwXOs7cDOmJxiavQMF6t5KDGygmrXvun5r11jqUGPMZYw/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

4.2系统架构：

智能客服系统需要根据实际情况选择设计功能模块，以下是比较主流的功能模块：

 知识管理：对FAQ、Task、chat的知识进行增删改。其支持词的维护（如：专有名词、同义词、敏感词灯）、QA的维护（业务问答知识）、标注维护（标注问法、标注转译）灯内容 的维护。

 知识教育：根据实际服务用户的问答数据，对智能客服的知识进行优化调整，以实现更好的问答效果

 对话管理：可视化的流程画布维护（单轮对话/多轮对话）、参数调用配置（如“动态的参数，，查询余额，积分）、标签的配置应用、策略的配置（如“转人工策略）

 问答质检：通过人工标注，对机器人的实际问答效果进行质量检查，评估机器人的实际问答效果。如：我们向模型内投入一定数量的优质录音、文本，然后告知大语言模型都有哪些加分因子、让他自动判别生产数据的质检情况，然后不断通过手工质检的对齐调优，让模型持续不断学习和改进。（运用AI agent 内容分析、质量检测、情绪识别、标签体系）

 智能工单：（运用ai agent 工单生成、智能派单、工单流转）

 数据分析：机器人问答数据分析，主要体现用户提问、知识覆盖等方面的指标..意图命中清单报表、用户交互日志报表、转人工清单报表等

 系统管理：系统管理模块是智能语音导航机器人流程对话管理系统中不可或缺的一部分，它负责机器人公共策略、用户及角色权限等内容的配置管理。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvEmOwia0TAicm5L1sAnB4gyPMnKDM3uiabdxRDAvg86icgV8Qib6wCMEB7ug/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

5、基于AI大模型的智能客服搭建全流程拆解（以知识库为例）

由于本文篇幅关系，无法全面分析基于人工智能的智能客服搭建方式，所以选取了一个较为典型的功能模块，即基于AI大模型的知识库，通常知识库的底层能力是基于通用性的大模型底层能力的，但由于行业的特性和客户特征，大多数会外挂行业知识库等进行语料喂养。那么基于AI大模型的智能客服搭建流程总体是什么样的呢，下面将进行简要描述。

1、确定范围与数据处理

数据清洗：仔细筛查收集到的素材，将重复、错误、过时以及与业务关联度低的无效或不准确信息去除，为后续环节提供高质量的数据基础。比如在客服历史会话数据中，剔除乱码、格式错误的内容。

数据提取：从多源数据中精准筛选出对构建知识库有价值的关键内容。像从客服人员的经验总结里提取解决常见问题的实用方法，从行业报告中提取关键知识点 。

文本格式转换：把不同格式（如文档、表格）的数据统一转化为便于文本分析的纯文本格式，消除格式差异带来的处理阻碍。

文本分割：依据语义、语法规则，将长文本分割成小的、便于分析的单元，如按句子或业务主题划分，以便更细致地处理文本。

向量化（embedding）：运用特定算法将文本转化为向量，方便计算机进行数学运算，实现文本相似度计算和语义匹配等操作。

数据入库：将处理好的数据有序存储到数据库，方便随时调用，为知识库构建储备资源。

知识库素材整理：广泛汇集客服人员长期积累的经验、历史会话记录以及行业知识，构建原始素材库。这些素材涵盖了实际问题处理策略、用户咨询热点以及行业规范等内容。

数据清洗与聚类：对原始素材再次清洗，提高数据质量。然后通过聚类分析，按问题特征将相似问题归类，找出常见问题模式，如归纳出某类产品的高频咨询问题。

问题提炼：按照业务板块（售前、售后等）和问题类型（功能咨询、故障反馈等）对清洗后的问题进行分类标记，为构建结构清晰的知识库做准备。

知识形态的判断：准确区分简单问题（可依据知识库直接回复）和复杂问题（需人工凭借专业素养和沟通技巧处理），规划智能客服与人工客服的协作流程。

2、提升理解与模型选型

（一）模型选型

构建 LLM 应用时，可选择 langchain 框架。它提供便捷工具和接口，能灵活整合语言模型、外部数据源及各类组件，高效搭建智能客服系统架构，满足业务特定需求。

（二）能力提升

训练意图理解：用丰富多样的文本数据训练机器人，使其能准确解析用户不同表达方式背后的真实意图，避免理解偏差，提升回复准确性。例如识别口语化和专业表述下的相同咨询意图。

增强情感识别：借助情感分析技术和训练数据，让机器人感知用户情绪，根据情绪给出人性化回应，如安抚焦急用户，提升服务体验。

3、知识库构建与调优

（一）策略技术

根据业务特点、数据状况和应用场景，选择合适技术提升智能客服回答质量。

提示词工程：精心设计提示词，引导智能客服依据知识库生成准确回复，提高回复针对性，如针对不同产品咨询设特定提示词模板。

rag（检索增强生成）：利用强大检索功能在知识库中查找相关知识，结合生成能力生成高质量回复，适用于大规模知识库。

微调：基于预训练模型，根据业务数据和需求调整参数，使模型更适应智能客服场景，如针对客服话术风格和问题类型微调。

（二）具体操作

转人工判定：制定合理规则，当智能客服无法解决问题（如复杂业务政策解读、用户多次不满）时，自动转接人工客服，保障服务连续性。

词库配置：构建包含专业词汇、同义词、口语化表述的词库，提升智能客服对自然语言的理解，避免因用词差异导致理解错误。

知识库测试调优：全面测试知识库，检查信息准确性和有效性，根据测试结果优化，如补充缺失知识、修正错误表述。

4、灰度发布与上线

（一）小范围测试与反馈收集

正式上线前，选择特定小范围用户群体或部分业务场景测试。通过问卷、访谈、数据统计等方式收集用户对智能客服回复准确性、及时性、友好性的反馈，整理分析后作为优化依据。

（二）性能监控与保障上线

实时监控系统稳定性、可靠性和响应速度等性能指标，利用监控工具及时发现并解决性能隐患，确保系统能满足大规模用户使用需求，顺利全面上线 。

针对智能客服知识库的搭建，知识库搭建索引能有效提升知识库效能，提供了快速检索的能力，提高数据检索的效率，使得在用户提出问题时，系统能够快速地从知识库中找到相关信息，索引过程包括实体抽取、实体关系确定、实体摘要，以及构建向量数据库和图数据库，这些都是为了优化数据的检索性能。索引为召回打下了基础。召回实现为了提供给用户最相关、最准确的答案或信息。召回过程包括召回前处理（如问题扩散、意图识别）、召回中处理（如选择目标知识库、向量相似度计算、图谱召回、召回排序），以及召回后处理（如生成质量评分器、Token压缩、生成回复、敏感词混淆处理）

1、搭建索引

实体抽取：运用自然语言处理和机器学习技术，从产品文档、客服记录、行业资料等素材中精准识别关键实体。例如，在电子产品领域，可能抽取“芯片型号”、“屏幕分辨率”等作为实体；在医疗咨询中，则可能是“症状名称”、“治疗方法”等。

实体关系确定：分析并确定抽取出的实体间的内在联系，构建知识图谱。例如，手机型号与芯片、操作系统、售后政策的关系；或者在医疗领域，症状与可能的疾病、推荐药物、相关科室的关联。

实体摘要：为每个实体生成包含关键信息的简洁摘要，便于检索时快速预览核心内容。如旅游景点的摘要可能包括“特色景观”、“开放时间”、“游客评价”等。

构建数据库：将知识转化为向量存储，利用向量数据库根据语义相似度匹配内容；同时，使用图数据库存储知识图谱，加速复杂查询的处理，如金融产品的风险等级、收益、适用人群等查询。

2、召回流程

召回前处理：

问题扩散：用户提问后，系统依据语义和知识关联扩展相关问题，如“手机拍照模糊”可能扩展到“镜头清洁”、“相机设置调整”等问题，确保全面性。

意图识别：使用深度学习模型分析用户的真实意图，如“出国旅游”可能包含“目的地选择”、“签证办理”、“行李准备”等需求，指导知识召回方向。

召回中处理：

选择目标知识库：根据问题领域和行业分类，选择最合适的知识库子集，如医疗问题直接关联到医疗知识库，提高召回的相关性。

向量相似度计算：结合向量库计算用户问题与知识向量的相似度，进行排序，锁定最贴近的内容。

图谱召回：利用图数据库中的知识图谱，追溯相关问题的间接知识，如查询“电脑维修网点”时，可能需要追溯到“硬件故障”、“服务地点”等信息。

召回排序：根据知识的相关性、热度、匹配度等因素进行排序，优先推送最相关的知识。

召回后处理：

生成质量评分器：建立评估机制，对召回的知识进行评分，确保答案的完整性、准确性和权威性，如医学知识库中，来自权威医学期刊的内容可能获得更高评分。

Token压缩：精简知识文本，去除冗余，加快信息传输，提升用户获取信息的效率。

生成回复：将筛选出的知识整理成自然语言回复，满足用户咨询需求，如旅游规划建议、健康咨询等。

敏感词处理：检测并过滤回复中的敏感词汇，确保内容的合规性，如在金融咨询中避免使用可能引起误解的术语。

通过这样的流程，智能客服系统能够提供给用户最相关、最准确的答案或信息，实现快速、准确的客户服务体验。

![图片](https://mmbiz.qpic.cn/mmbiz_png/jhT7lJzclTZlTcX3NLmicdOqLR6h0xEWvpmtWAe1RUACepfRwl39MVX9RicdAoKQnDXMHFK83Fu3o6iaCZc9QbFiaQ/640?wx_fmt=png&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
